<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closure</title>
</head>
<body>
    <button id="bt1">Orange</button>
    <button id="bt2">Green</button>
     A closure is the combination of a function bundled together (enclosed) with references to its surrounding state 
    (the lexical environment). In other words, a closure gives a function access to its outer scope. 
    In JavaScript, closures are created every time a function is created, at function creation time.

    The word lexical refers to the fact that lexical scoping uses the location where a variable is declared within
    the source code to determine where that variable is available.
    Nested functions have access to variables declared in their outer scope.

    Lexical scoping means that a variableâ€™s scope is decided by where it is written in the code, not by where the function is called.
</body>
<script>
    function outer(){
        let name = "Karan";
        function inner(){
            console.log(name);
        }
        return inner;
         // only the variables that inner uses (name) are returened along with function..
        // means a closure is returned...
        // A closure captures only the variables it needs, not the entire outer function.
    }
    const myfun = outer();
    // myfun();
</script>
<script>
    document.querySelector('#bt1').onclick = function(){
        document.body.style.backgroundColor = 'orange';
    } 
    document.querySelector('#bt2').onclick = function(){
        document.body.style.backgroundColor = 'green';
    } 

    // Practical Example...
    function clickHandler(color){
        // posiible due to clousure 
        function inner(){
            document.body.style.backgroundColor = color;
        } 
        return inner;
    }
    document.querySelector('#bt1').onclick = clickHandler('orange');
    document.querySelector('#bt2').onclick = clickHandler('green');
</script>
</html> 
